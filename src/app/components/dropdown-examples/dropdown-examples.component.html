<div class="dropdown-examples-container">
    <div class="header">
        <h1>PrimeNG Dropdown Examples</h1>
        <p>Comprehensive examples of PrimeNG dropdown components with various configurations and use cases.</p>
        <p-button label="Clear All Selections" icon="pi pi-trash" severity="secondary" (onClick)="clearSelection()">
        </p-button>
    </div>

    <div class="examples-grid">
        <!-- Basic Dropdown -->
        <p-card header="Basic Dropdown" class="example-card">
            <p-dropdown [options]="countries" [(ngModel)]="selectedCountry" optionLabel="name" [showClear]="true"
                placeholder="Select a Country" (onChange)="onCountryChange()">
            </p-dropdown>
            <div class="result" *ngIf="selectedCountry">
                <strong>Selected:</strong> {{ selectedCountry.name }} ({{ selectedCountry.code }})
            </div>
        </p-card>

        <!-- Flag Dropdown with Custom Templates -->
        <p-card header="Flag Dropdown with Custom Templates" class="example-card">
            <p-dropdown [options]="countries" [(ngModel)]="selectedCountry" optionLabel="name" [showClear]="true"
                placeholder="Select a Country">
                <ng-template pTemplate="selectedItem">
                    <div class="flex align-items-center gap-2" *ngIf="selectedCountry">
                        <img [src]="getFlagUrl(selectedCountry.code)" [alt]="selectedCountry.name + ' flag'"
                            class="flag-image" />
                        <div>{{ selectedCountry.name }}</div>
                    </div>
                </ng-template>
                <ng-template let-country pTemplate="item">
                    <div class="flex align-items-center gap-2">
                        <img [src]="getFlagUrl(country.code)" [alt]="country.name + ' flag'" class="flag-image" />
                        <div>{{ country.name }}</div>
                    </div>
                </ng-template>
            </p-dropdown>
            <div class="result" *ngIf="selectedCountry">
                <strong>Selected:</strong> {{ selectedCountry.name }} with flag
                <img [src]="getFlagUrl(selectedCountry.code)" [alt]="selectedCountry.name + ' flag'" class="flag-image" />
            </div>
        </p-card>

        <!-- Multi-Select Dropdown -->
        <p-card header="Multi-Select Dropdown" class="example-card">
            <p-multiSelect [options]="cities" [(ngModel)]="selectedCities" optionLabel="name" [showClear]="true"
                placeholder="Select Cities" [maxSelectedLabels]="3" selectedItemsLabel="{0} cities selected"
                (onChange)="onCitiesChange()">
            </p-multiSelect>
            <div class="result" *ngIf="selectedCities.length > 0">
                <strong>Selected Cities:</strong>
                <ul>
                    <li *ngFor="let city of selectedCities">{{ city.name }} ({{ city.code }})</li>
                </ul>
            </div>
        </p-card>

        <!-- Filterable Dropdown -->
        <p-card header="Filterable Dropdown" class="example-card">
            <p-dropdown [options]="products" [(ngModel)]="selectedProduct" optionLabel="name" [showClear]="true"
                [filter]="true" filterBy="name,category" placeholder="Search Products" (onChange)="onProductChange()">
                <ng-template let-product pTemplate="item">
                    <div class="flex justify-content-between align-items-center">
                        <div>
                            <div class="font-semibold">{{ product.name }}</div>
                            <div class="text-sm text-500">{{ product.category }}</div>
                        </div>
                        <div class="text-right">
                            <div class="font-semibold">${{ product.price }}</div>
                            <div class="text-sm" [class]="product.inStock ? 'text-green-500' : 'text-red-500'">
                                {{ product.inStock ? 'In Stock' : 'Out of Stock' }}
                            </div>
                        </div>
                    </div>
                </ng-template>
            </p-dropdown>
            <div class="result" *ngIf="selectedProduct">
                <strong>Selected Product:</strong> {{ selectedProduct.name }} - ${{ selectedProduct.price }}
                <span [class]="selectedProduct.inStock ? 'text-green-500' : 'text-red-500'">
                    ({{ selectedProduct.inStock ? 'In Stock' : 'Out of Stock' }})
                </span>
            </div>
        </p-card>

        <!-- Grouped Dropdown -->
        <p-card header="Grouped Dropdown" class="example-card">
            <p-dropdown [options]="groupedItems" [(ngModel)]="selectedGroupedItem" optionLabel="label"
                optionGroupLabel="label" optionGroupChildren="items" [showClear]="true" placeholder="Select from Groups"
                (onChange)="onGroupedItemChange()">
            </p-dropdown>
            <div class="result" *ngIf="selectedGroupedItem">
                <strong>Selected:</strong> {{ selectedGroupedItem.label }} ({{ selectedGroupedItem.value }})
            </div>
        </p-card>

        <!-- Disabled Options Dropdown -->
        <p-card header="Dropdown with Disabled Options" class="example-card">
            <p-dropdown [options]="disabledOptions" [(ngModel)]="selectedDisabled" optionLabel="label"
                optionValue="value" [showClear]="true" placeholder="Select Option">
            </p-dropdown>
            <div class="result" *ngIf="selectedDisabled">
                <strong>Selected:</strong> {{ selectedDisabled }}
            </div>
        </p-card>

        <!-- Loading Dropdown -->
        <p-card header="Loading Dropdown" class="example-card">
            <p-dropdown [options]="loadingOptions" [(ngModel)]="selectedLoading" optionLabel="label" optionValue="value"
                [loading]="isLoading" [showClear]="true" placeholder="Select Option">
            </p-dropdown>
            <div class="actions">
                <p-button label="Simulate Loading" icon="pi pi-spin pi-spinner" severity="info"
                    (onClick)="simulateLoading()">
                </p-button>
            </div>
            <div class="result" *ngIf="selectedLoading">
                <strong>Selected:</strong> {{ selectedLoading }}
            </div>
        </p-card>

        <!-- Custom Template Dropdown -->
        <p-card header="Custom Template Dropdown" class="example-card">
            <p-dropdown [options]="customOptions" [(ngModel)]="selectedCustom" optionLabel="name" [showClear]="true"
                placeholder="Select User" (onChange)="onCustomChange()">
                <ng-template pTemplate="selectedItem">
                    <div class="flex align-items-center gap-2" *ngIf="selectedCustom">
                        <img [src]="selectedCustom.avatar" [alt]="selectedCustom.name" class="avatar-small" />
                        <div>
                            <div class="font-semibold">{{ selectedCustom.name }}</div>
                            <div class="text-sm text-500">{{ selectedCustom.role }}</div>
                        </div>
                    </div>
                </ng-template>
                <ng-template let-user pTemplate="item">
                    <div class="flex align-items-center gap-2">
                        <img [src]="user.avatar" [alt]="user.name" class="avatar-small" />
                        <div>
                            <div class="font-semibold">{{ user.name }}</div>
                            <div class="text-sm text-500">{{ user.role }}</div>
                        </div>
                    </div>
                </ng-template>
            </p-dropdown>
            <div class="result" *ngIf="selectedCustom">
                <strong>Selected User:</strong> {{ selectedCustom.name }} - {{ selectedCustom.role }}
            </div>
        </p-card>

        <!-- Editable Dropdown -->
        <p-card header="Editable Dropdown" class="example-card">
            <p-dropdown [options]="editableOptions" [(ngModel)]="selectedEditable" optionLabel="label"
                optionValue="value" [editable]="true" [showClear]="true" placeholder="Type or Select"
                (onChange)="onEditableChange()">
            </p-dropdown>
            <div class="result" *ngIf="selectedEditable">
                <strong>Selected/Entered:</strong> {{ selectedEditable }}
            </div>
        </p-card>

        <!-- Virtual Scroll Dropdown -->
        <p-card header="Virtual Scroll Dropdown (10,000 items)" class="example-card">
            <p-dropdown [options]="virtualOptions" [(ngModel)]="selectedVirtual" optionLabel="label" optionValue="value"
                [virtualScroll]="true" [virtualScrollItemSize]="40" [showClear]="true"
                placeholder="Select from 10,000 options" (onChange)="onVirtualChange()">
            </p-dropdown>
            <div class="result" *ngIf="selectedVirtual">
                <strong>Selected:</strong> {{ selectedVirtual }}
            </div>
        </p-card>
    </div>

    <!-- Summary Section -->
    <p-card header="Selection Summary" class="summary-card">
        <div class="summary-grid">
            <div class="summary-item" *ngIf="selectedCountry">
                <strong>Country:</strong> {{ selectedCountry.name }}
            </div>
            <div class="summary-item" *ngIf="selectedCities.length > 0">
                <strong>Cities:</strong> {{ selectedCities.length }} selected
            </div>
            <div class="summary-item" *ngIf="selectedProduct">
                <strong>Product:</strong> {{ selectedProduct.name }}
            </div>
            <div class="summary-item" *ngIf="selectedGroupedItem">
                <strong>Grouped Item:</strong> {{ selectedGroupedItem.label }}
            </div>
            <div class="summary-item" *ngIf="selectedCustom">
                <strong>User:</strong> {{ selectedCustom.name }}
            </div>
            <div class="summary-item" *ngIf="selectedEditable">
                <strong>Editable:</strong> {{ selectedEditable }}
            </div>
            <div class="summary-item" *ngIf="selectedVirtual">
                <strong>Virtual:</strong> {{ selectedVirtual }}
            </div>
        </div>
    </p-card>
</div>